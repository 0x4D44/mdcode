# CI Coverage Gate

Date: 2025-10-31

## Summary
- Added a strict LLVM line coverage gate of ≥98% for the library.
- Implemented via a new Makefile target and a CI step.

## Makefile
- Target: `coverage-llvm-gate-98`
- Command: `cargo llvm-cov --lib --tests --features offline_gh --ignore-filename-regex 'src/main.rs' --fail-under-lines 98 --summary-only --json --output-path target/coverage/llvm-summary.json`

## GitHub Actions
- Workflow: `.github/workflows/ci.yml`
- New step: “Enforce LLVM ≥98% lines” runs `make coverage-llvm-gate-98` after the regular `make coverage` step.

## Notes
- We retain the existing `coverage` step (Tarpaulin + LLVM + baseline regression check) for trend tracking.
- The strict gate enforces the project goal and will fail the job if LLVM line coverage drops below 98%.

